(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8341,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n={cancelIdleCallback:function(){return o},requestIdleCallback:function(){return r}};for(var i in n)Object.defineProperty(a,i,{enumerable:!0,get:n[i]});let r="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},o="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),t.exports=a.default)},79520,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n={default:function(){return y},handleClientScriptLoad:function(){return g},initScriptLoader:function(){return v}};for(var i in n)Object.defineProperty(a,i,{enumerable:!0,get:n[i]});let r=e.r(55682),o=e.r(90809),s=e.r(43476),l=r._(e.r(74080)),c=o._(e.r(71645)),d=e.r(42732),u=e.r(22737),h=e.r(8341),m=new Map,p=new Set,f=e=>{let{src:t,id:a,onLoad:n=()=>{},onReady:i=null,dangerouslySetInnerHTML:r,children:o="",strategy:s="afterInteractive",onError:c,stylesheets:d}=e,h=a||t;if(h&&p.has(h))return;if(m.has(t)){p.add(h),m.get(t).then(n,c);return}let f=()=>{i&&i(),p.add(h)},g=document.createElement("script"),v=new Promise((e,t)=>{g.addEventListener("load",function(t){e(),n&&n.call(this,t),f()}),g.addEventListener("error",function(e){t(e)})}).catch(function(e){c&&c(e)});r?(g.innerHTML=r.__html||"",f()):o?(g.textContent="string"==typeof o?o:Array.isArray(o)?o.join(""):"",f()):t&&(g.src=t,m.set(t,v)),(0,u.setAttributesFromProps)(g,e),"worker"===s&&g.setAttribute("type","text/partytown"),g.setAttribute("data-nscript",s),d&&(e=>{if(l.default.preinit)return e.forEach(e=>{l.default.preinit(e,{as:"style"})});if("undefined"!=typeof window){let t=document.head;e.forEach(e=>{let a=document.createElement("link");a.type="text/css",a.rel="stylesheet",a.href=e,t.appendChild(a)})}})(d),document.body.appendChild(g)};function g(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,h.requestIdleCallback)(()=>f(e))}):f(e)}function v(e){e.forEach(g),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");p.add(t)})}function b(e){let{id:t,src:a="",onLoad:n=()=>{},onReady:i=null,strategy:r="afterInteractive",onError:o,stylesheets:u,...m}=e,{updateScripts:g,scripts:v,getIsSsr:b,appDir:y,nonce:x}=(0,c.useContext)(d.HeadManagerContext);x=m.nonce||x;let w=(0,c.useRef)(!1);(0,c.useEffect)(()=>{let e=t||a;w.current||(i&&e&&p.has(e)&&i(),w.current=!0)},[i,t,a]);let j=(0,c.useRef)(!1);if((0,c.useEffect)(()=>{if(!j.current){if("afterInteractive"===r)f(e);else"lazyOnload"===r&&("complete"===document.readyState?(0,h.requestIdleCallback)(()=>f(e)):window.addEventListener("load",()=>{(0,h.requestIdleCallback)(()=>f(e))}));j.current=!0}},[e,r]),("beforeInteractive"===r||"worker"===r)&&(g?(v[r]=(v[r]||[]).concat([{id:t,src:a,onLoad:n,onReady:i,onError:o,...m,nonce:x}]),g(v)):b&&b()?p.add(t||a):b&&!b()&&f({...e,nonce:x})),y){if(u&&u.forEach(e=>{l.default.preinit(e,{as:"style"})}),"beforeInteractive"===r)if(!a)return m.dangerouslySetInnerHTML&&(m.children=m.dangerouslySetInnerHTML.__html,delete m.dangerouslySetInnerHTML),(0,s.jsx)("script",{nonce:x,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([0,{...m,id:t}])})`}});else return l.default.preload(a,m.integrity?{as:"script",integrity:m.integrity,nonce:x,crossOrigin:m.crossOrigin}:{as:"script",nonce:x,crossOrigin:m.crossOrigin}),(0,s.jsx)("script",{nonce:x,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([a,{...m,id:t}])})`}});"afterInteractive"===r&&a&&l.default.preload(a,m.integrity?{as:"script",integrity:m.integrity,nonce:x,crossOrigin:m.crossOrigin}:{as:"script",nonce:x,crossOrigin:m.crossOrigin})}return null}Object.defineProperty(b,"__nextScript",{value:!0});let y=b;("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),t.exports=a.default)},3303,(e,t,a)=>{t.exports=e.r(79520)},63936,e=>{"use strict";var t,a,n,i,r=e.i(43476),o=e.i(33716),s=e.i(71645),l=e.i(57688);let c="carousel",d="controller",u="portal",h="toolbar",m="loading",p="error",f="complete",g=e=>`active-slide-${e}`;g(m),g("playing"),g(p),g(f);let v="flex_center",b="no_scroll_padding",y="slide",x="prev",w="next",j="swipe",N="close",E="onPointerDown",k="onPointerMove",I="onPointerUp",C="onPointerLeave",M="onPointerCancel",P="onKeyDown",$="onWheel",_="icon",T="contain",S="cover";var L=e.i(74080);let q="yarl__";function B(...e){return[...e].filter(Boolean).join(" ")}function A(e){return`${q}${e}`}function R(e){return`--${q}${e}`}function D(e,t){return`${e}${t?`_${t}`:""}`}function O(e){return t=>D(e,t)}function z(e,t){var a;return null!=(a=null==e?void 0:e[t])?a:t}function W(...e){return()=>{e.forEach(e=>{e()})}}function G(e,t,a){return()=>{let n=s.useContext(a);if(!n)throw Error(`${e} must be used within a ${t}.Provider`);return n}}function F(){return"undefined"!=typeof window}function H(e){return void 0===e.type||"image"===e.type}function J(e){return"string"==typeof e?Number.parseInt(e,10):e}function U(e){if("number"==typeof e)return{pixel:e};if("string"==typeof e){let t=J(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function X(e,t){return t>0?(e%t+t)%t:0}function V(e,t){return e[X(t,e.length)]}function K(e,t){return e.length>0?V(e,t):void 0}let Y=Number(s.version.split(".")[0])>=19,Q={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[N]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:T,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function Z(e,t){return{name:e,component:t}}function ee(e,t){return{module:e,children:t}}function et(e,t,a){return e.flatMap(e=>{var n;return null!=(n=function e(t,a,n){return t.module.name===a?n(t):t.children?[ee(t.module,t.children.flatMap(t=>{var i;return null!=(i=e(t,a,n))?i:[]}))]:[t]}(e,t,a))?n:[]})}let ea=s.createContext(null),en=G("useA11yContext","A11yContext",ea);function ei({children:e}){let[t,a]=s.useState(!1),[n,i]=s.useState(!1),r=s.useMemo(()=>({focusWithin:t,trackFocusWithin:(e,t)=>{let n=n=>i=>{var r;i.currentTarget.contains(i.relatedTarget)||a(n),null==(r=n?e:t)||r(i)};return{onFocus:n(!0),onBlur:n(!1)}},autoPlaying:n,setAutoPlaying:i}),[t,n]);return s.createElement(ea.Provider,{value:r},e)}let er=s.createContext(null),eo=G("useDocument","DocumentContext",er);function es({nodeRef:e,children:t}){let a=s.useMemo(()=>{let t=t=>{var a;return(null==(a=t||e.current)?void 0:a.ownerDocument)||document};return{getOwnerDocument:t,getOwnerWindow:e=>{var a;return(null==(a=t(e))?void 0:a.defaultView)||window}}},[e]);return s.createElement(er.Provider,{value:a},t)}let el=s.createContext(null),ec=G("useEvents","EventsContext",el);function ed({children:e}){let[t]=s.useState({});s.useEffect(()=>()=>{Object.keys(t).forEach(e=>delete t[e])},[t]);let a=s.useMemo(()=>{let e=(e,a)=>{var n;null==(n=t[e])||n.splice(0,t[e].length,...t[e].filter(e=>e!==a))};return{publish:(...[e,a])=>{var n;null==(n=t[e])||n.forEach(e=>e(a))},subscribe:(a,n)=>(t[a]||(t[a]=[]),t[a].push(n),()=>e(a,n)),unsubscribe:e}},[t]);return s.createElement(el.Provider,{value:a},e)}let eu=s.createContext(null),eh=G("useLightboxProps","LightboxPropsContext",eu);function em({children:e,...t}){return s.createElement(eu.Provider,{value:t},e)}let ep=s.createContext(null),ef=G("useLightboxState","LightboxStateContext",ep),eg=s.createContext(null),ev=G("useLightboxDispatch","LightboxDispatchContext",eg);function eb(e,t){switch(t.type){case"swipe":{let{slides:a}=e,n=(null==t?void 0:t.increment)||0,i=e.globalIndex+n,r=X(i,a.length),o=K(a,r);return{slides:a,currentIndex:r,globalIndex:i,currentSlide:o,animation:n||void 0!==t.duration?{increment:n,duration:t.duration,easing:t.easing}:void 0}}case"update":if(t.slides!==e.slides||t.index!==e.currentIndex)return{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:K(t.slides,t.index)};return e;default:throw Error("Unknown action type")}}function ey({slides:e,index:t,children:a}){let[n,i]=s.useReducer(eb,{slides:e,currentIndex:t,globalIndex:t,currentSlide:K(e,t)});s.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);let r=s.useMemo(()=>({...n,state:n,dispatch:i}),[n,i]);return s.createElement(eg.Provider,{value:i},s.createElement(ep.Provider,{value:r},a))}let ex=s.createContext(null),ew=G("useTimeouts","TimeoutsContext",ex);function ej({children:e}){let[t]=s.useState([]);s.useEffect(()=>()=>{t.forEach(e=>window.clearTimeout(e)),t.splice(0,t.length)},[t]);let a=s.useMemo(()=>{let e=e=>{t.splice(0,t.length,...t.filter(t=>t!==e))};return{setTimeout:(a,n)=>{let i=window.setTimeout(()=>{e(i),a()},n);return t.push(i),i},clearTimeout:t=>{void 0!==t&&(e(t),window.clearTimeout(t))}}},[t]);return s.createElement(ex.Provider,{value:a},e)}let eN=s.forwardRef(function({label:e,className:t,icon:a,renderIcon:n,onClick:i,style:r,...o},l){let{styles:c,labels:d}=eh(),u=z(d,e);return s.createElement("button",{ref:l,type:"button",title:u,"aria-label":u,className:B(A("button"),t),onClick:i,style:{...r,...c.button},...o},n?n():s.createElement(a,{className:A(_),style:c.icon}))});function eE(e,t){var a;let n;return a=s.createElement("g",{fill:"currentColor"},s.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t),(n=e=>s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...e},a)).displayName=e,n}let ek=eE("Close",s.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),eI=eE("Previous",s.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),eC=eE("Next",s.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),eM=eE("Loading",s.createElement(s.Fragment,null,Array.from({length:8}).map((e,t,a)=>s.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/a.length*(t+1),transform:`rotate(${360/a.length*t}, 12, 12)`})))),eP=eE("Error",s.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),e$=F()?s.useLayoutEffect:s.useEffect;function e_(){let[e,t]=s.useState(!1);return s.useEffect(()=>{var e,a;let n=null==(e=window.matchMedia)?void 0:e.call(window,"(prefers-reduced-motion: reduce)");t(null==n?void 0:n.matches);let i=e=>t(e.matches);return null==(a=null==n?void 0:n.addEventListener)||a.call(n,"change",i),()=>{var e;return null==(e=null==n?void 0:n.removeEventListener)?void 0:e.call(n,"change",i)}},[]),e}function eT(e,t){let a=s.useRef(void 0),n=s.useRef(void 0),i=e_();return e$(()=>{var r,o,s;if(e.current&&void 0!==a.current&&!i){let{keyframes:i,duration:l,easing:c,onfinish:d}=t(a.current,e.current.getBoundingClientRect(),function(e){let t=0,a=0,n=0,i=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(i){let e=i[1].split(",").map(J);6===e.length?(t=e[4],a=e[5]):16===e.length&&(t=e[12],a=e[13],n=e[14])}return{x:t,y:a,z:n}}(e.current))||{};if(i&&l){null==(r=n.current)||r.cancel(),n.current=void 0;try{n.current=null==(s=(o=e.current).animate)?void 0:s.call(o,i,{duration:l,easing:c})}catch(e){console.error(e)}n.current&&(n.current.onfinish=()=>{n.current=void 0,null==d||d()})}}a.current=void 0}),{prepareAnimation:e=>{a.current=e},isAnimationPlaying:()=>{var e;return(null==(e=n.current)?void 0:e.playState)==="running"}}}function eS(){let e=s.useRef(null),t=s.useRef(void 0),[a,n]=s.useState();return{setContainerRef:s.useCallback(a=>{e.current=a,t.current&&(t.current.disconnect(),t.current=void 0);let i=()=>{if(a){let e=window.getComputedStyle(a);n({width:Math.round(a.clientWidth-(parseFloat(e.paddingLeft)||0)-(parseFloat(e.paddingRight)||0)),height:Math.round(a.clientHeight-(parseFloat(e.paddingTop)||0)-(parseFloat(e.paddingBottom)||0))})}else n(void 0)};i(),a&&"undefined"!=typeof ResizeObserver&&(t.current=new ResizeObserver(i),t.current.observe(a))},[]),containerRef:e,containerRect:a}}function eL(){let e=s.useRef(void 0),{setTimeout:t,clearTimeout:a}=ew();return s.useCallback((n,i)=>{a(e.current),e.current=t(n,i>0?i:0)},[t,a])}function eq(e){let t=s.useRef(e);return e$(()=>{t.current=e}),s.useCallback((...e)=>{var a;return null==(a=t.current)?void 0:a.call(t,...e)},[])}function eB(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function eA(e,t){return s.useMemo(()=>null==e&&null==t?null:a=>{eB(e,a),eB(t,a)},[e,t])}function eR(){let[e,t]=s.useState(!1);return e$(()=>{t("rtl"===window.getComputedStyle(window.document.documentElement).direction)},[]),e}function eD(e,t){let a=s.useRef(0),n=eL(),i=eq((...t)=>{a.current=Date.now(),e(t)});return s.useCallback((...e)=>{n(()=>{i(e)},t-(Date.now()-a.current))},[t,i,n])}let eO=O("slide"),ez=O("slide_image");function eW({slide:e,offset:t,render:a,rect:n,imageFit:i,imageProps:r,onClick:o,onLoad:l,onError:c,style:d}){var u,h,v,b,y,x,w,j;let[N,E]=s.useState(m),{publish:k}=ec(),{setTimeout:I}=ew(),C=s.useRef(null);s.useEffect(()=>{0===t&&k(g(N))},[t,N,k]);let M=eq(e=>{("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{e.parentNode&&(E(f),I(()=>{null==l||l(e)},0))})}),P=s.useCallback(e=>{C.current=e,(null==e?void 0:e.complete)&&M(e)},[M]),$=s.useCallback(e=>{M(e.currentTarget)},[M]),L=eq(()=>{E(p),null==c||c()}),q=e.imageFit===S||e.imageFit!==T&&i===S,R=(e,t)=>Number.isFinite(e)?e:t,D=R(Math.max(...(null!=(h=null==(u=e.srcSet)?void 0:u.map(e=>e.width))?h:[]).concat(e.width?[e.width]:[]).filter(Boolean)),(null==(v=C.current)?void 0:v.naturalWidth)||0),O=R(Math.max(...(null!=(y=null==(b=e.srcSet)?void 0:b.map(e=>e.height))?y:[]).concat(e.height?[e.height]:[]).filter(Boolean)),(null==(x=C.current)?void 0:x.naturalHeight)||0),z=D&&O?{maxWidth:`min(${D}px, 100%)`,maxHeight:`min(${O}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},W=null==(w=e.srcSet)?void 0:w.sort((e,t)=>e.width-t.width).map(e=>`${e.src} ${e.width}w`).join(", "),G=W&&n&&F()?`${Math.round(Math.min(n&&!q&&e.width&&e.height?n.height/e.height*e.width:Number.MAX_VALUE,n.width))}px`:void 0,{style:H,className:J,...U}=r||{};return s.createElement(s.Fragment,null,s.createElement("img",{ref:P,onLoad:$,onError:L,onClick:o,draggable:!1,className:B(A(ez()),q&&A(ez("cover")),N!==f&&A(ez("loading")),J),style:{...z,...d,...H},...U,alt:null!=(j=e.alt)?j:"",sizes:G,srcSet:W,src:e.src}),N!==f&&s.createElement("div",{className:A(eO("placeholder"))},N===m&&((null==a?void 0:a.iconLoading)?a.iconLoading():s.createElement(eM,{className:B(A(_),A(eO(m)))})),N===p&&((null==a?void 0:a.iconError)?a.iconError():s.createElement(eP,{className:B(A(_),A(eO(p)))}))))}let eG=s.forwardRef(function({className:e,children:t,onFocus:a,onBlur:n,...i},r){let o=s.useRef(null),{trackFocusWithin:l}=en();return s.createElement(es,{nodeRef:o},s.createElement("div",{ref:eA(r,o),className:B(A("root"),e),...l(a,n),...i},t))});(t=n||(n={}))[t.NONE=0]="NONE",t[t.SWIPE=1]="SWIPE",t[t.PULL=2]="PULL",t[t.ANIMATION=3]="ANIMATION",(a=i||(i={}))[a.NONE=0]="NONE",a[a.SWIPE=1]="SWIPE",a[a.PULL=2]="PULL";let eF=O("container"),eH=s.createContext(null),eJ=G("useController","ControllerContext",eH),eU=Z(d,function({children:e,...t}){var a;let{carousel:r,animation:o,controller:l,on:c,styles:d,render:h}=t,{closeOnPullUp:m,closeOnPullDown:p,preventDefaultWheelX:f,preventDefaultWheelY:g}=l,[b,_]=s.useState(),T=ef(),S=ev(),[L,q]=s.useState(n.NONE),D=s.useRef(0),O=s.useRef(0),z=s.useRef(1),{registerSensors:G,subscribeSensors:F}=function(){let[e]=s.useState({}),t=s.useCallback((t,a)=>{var n;null==(n=e[t])||n.forEach(e=>{a.isPropagationStopped()||e(a)})},[e]);return{registerSensors:s.useMemo(()=>({onPointerDown:e=>t(E,e),onPointerMove:e=>t(k,e),onPointerUp:e=>t(I,e),onPointerLeave:e=>t(C,e),onPointerCancel:e=>t(M,e),onKeyDown:e=>t(P,e),onKeyUp:e=>t("onKeyUp",e),onWheel:e=>t($,e)}),[t]),subscribeSensors:s.useCallback((t,a)=>(e[t]||(e[t]=[]),e[t].unshift(a),()=>{let n=e[t];n&&n.splice(0,n.length,...n.filter(e=>e!==a))}),[e])}}(),{subscribe:H,publish:J}=ec(),X=eL(),V=eL(),K=eL(),{containerRef:Y,setContainerRef:Q,containerRect:Z}=eS(),ee=eA(function({preventDefaultWheelX:e,preventDefaultWheelY:t}){let a=s.useRef(null),n=eq(a=>{let n=Math.abs(a.deltaX)>Math.abs(a.deltaY);(n&&e||!n&&t||a.ctrlKey)&&a.preventDefault()});return s.useCallback(e=>{var t;e?e.addEventListener("wheel",n,{passive:!1}):null==(t=a.current)||t.removeEventListener("wheel",n),a.current=e},[n])}({preventDefaultWheelX:f,preventDefaultWheelY:g}),Q),et=s.useRef(null),ea=eA(et,void 0),{getOwnerDocument:en}=eo(),ei=eR(),er=e=>(ei?-1:1)*("number"==typeof e?e:1),es=eq(()=>{var e;return null==(e=Y.current)?void 0:e.focus()}),el=eq(()=>t),ed=eq(()=>T),eu=s.useCallback(e=>J(x,e),[J]),eh=s.useCallback(e=>J(w,e),[J]),em=s.useCallback(()=>J(N),[J]),ep=e=>!(r.finite&&(er(e)>0&&0===T.currentIndex||0>er(e)&&T.currentIndex===T.slides.length-1)),eg=e=>{var t;D.current=e,null==(t=Y.current)||t.style.setProperty(R("swipe_offset"),`${Math.round(e)}px`)},eb=e=>{var t,a;O.current=e,z.current=Math.min(Math.max(function(e,t=0){let a=10**t;return Math.round((e+Number.EPSILON)*a)/a}(1-(p&&e>0?e:m&&e<0?-e:0)/60*.5,2),.5),1),null==(t=Y.current)||t.style.setProperty(R("pull_offset"),`${Math.round(e)}px`),null==(a=Y.current)||a.style.setProperty(R("pull_opacity"),`${z.current}`)},{prepareAnimation:ey}=eT(et,(e,t,a)=>{if(et.current&&Z)return{keyframes:[{transform:`translate(0, ${e.rect.y-t.y+a.y}px)`,opacity:e.opacity},{transform:"translate(0, 0)",opacity:1}],duration:e.duration,easing:o.easing.fade}}),ex=(e,t)=>{if(m||p){eb(e);let a=0;et.current&&(a=o.fade*(t?2:1),ey({rect:et.current.getBoundingClientRect(),opacity:z.current,duration:a})),K(()=>{eb(0),q(n.NONE)},a),q(n.ANIMATION),t||em()}},{prepareAnimation:ej,isAnimationPlaying:eN}=eT(et,(e,t,a)=>{var n;if(et.current&&Z&&(null==(n=T.animation)?void 0:n.duration)){let n=U(r.spacing),i=(n.percent?n.percent*Z.width/100:n.pixel)||0;return{keyframes:[{transform:`translate(${er(T.globalIndex-e.index)*(Z.width+i)+e.rect.x-t.x+a.x}px, 0)`},{transform:"translate(0, 0)"}],duration:T.animation.duration,easing:T.animation.easing}}}),eE=eq(e=>{var t,a;let i=e.offset||0,r=i?o.swipe:null!=(t=o.navigation)?t:o.swipe,s=i||eN()?o.easing.swipe:o.easing.navigation,{direction:l}=e,c=null!=(a=e.count)?a:1,d=n.ANIMATION,u=r*c;if(!l){let t=null==Z?void 0:Z.width,a=e.duration||0,n=t?r/t*Math.abs(i):r;0!==c?(a<n?u=u/n*Math.max(a,n/5):t&&(u=r/t*(t-Math.abs(i))),l=er(i)>0?x:w):u=r/2}let h=0;l===x?ep(er(1))?h=-c:(d=n.NONE,u=r):l===w&&(ep(er(-1))?h=c:(d=n.NONE,u=r)),V(()=>{eg(0),q(n.NONE)},u=Math.round(u)),et.current&&ej({rect:et.current.getBoundingClientRect(),index:T.globalIndex}),q(d),J(j,{type:"swipe",increment:h,duration:u,easing:s})});s.useEffect(()=>{var e,t;(null==(e=T.animation)?void 0:e.increment)&&(null==(t=T.animation)?void 0:t.duration)&&X(()=>S({type:"swipe",increment:0}),T.animation.duration)},[T.animation,S,X]);let ek=[F,ep,(null==Z?void 0:Z.width)||0,o.swipe,()=>q(n.SWIPE),e=>eg(e),(e,t)=>eE({offset:e,duration:t,count:1}),e=>eE({offset:e,count:0})],eI=[()=>{p&&q(n.PULL)},e=>eb(e),e=>ex(e),e=>ex(e,!0)];!function({disableSwipeNavigation:e,closeOnBackdropClick:t},a,n,r,o,l,c,d,u,h,m,p,f,g,v,b){let x=s.useRef(0),w=s.useRef([]),j=s.useRef(void 0),N=s.useRef(0),P=s.useRef(i.NONE),$=s.useCallback(e=>{j.current===e.pointerId&&(j.current=void 0,P.current=i.NONE);let t=w.current;t.splice(0,t.length,...t.filter(t=>t.pointerId!==e.pointerId))},[]),_=s.useCallback(e=>{$(e),e.persist(),w.current.push(e)},[$]),T=s.useCallback(e=>w.current.find(({pointerId:t})=>e.pointerId===t),[]),S=eq(e=>{_(e)}),L=(e,t)=>m&&e>t||h&&e<-t,q=eq(e=>{let a=T(e);if(a)if(j.current===e.pointerId){let e=Date.now()-N.current,t=x.current;P.current===i.SWIPE?Math.abs(t)>.3*r||Math.abs(t)>5&&e<o?d(t,e):u(t):P.current===i.PULL&&(L(t,60)?g(t,e):v(t)),x.current=0,P.current=i.NONE}else{let{target:n}=e;t&&n instanceof HTMLElement&&n===a.target&&(n.classList.contains(A(y))||n.classList.contains(A("slide_wrapper")))&&b()}$(e)}),B=eq(t=>{let a=T(t);if(a){let r=j.current===t.pointerId;if(0===t.buttons)return void(r&&0!==x.current?q(t):$(a));let o=t.clientX-a.clientX,s=t.clientY-a.clientY;if(void 0===j.current){let a=e=>{_(t),j.current=t.pointerId,N.current=Date.now(),P.current=e};Math.abs(o)>Math.abs(s)&&Math.abs(o)>30&&n(o)?e||(a(i.SWIPE),l()):Math.abs(s)>Math.abs(o)&&L(s,30)&&(a(i.PULL),p())}else r&&(P.current===i.SWIPE?(x.current=o,c(o)):P.current===i.PULL&&(x.current=s,f(s)))}});s.useEffect(()=>W(a(E,S),a(k,B),a(I,q),a(C,q),a(M,q)),[a,S,B,q,void 0])}(l,...ek,m,p,...eI,em),function(e,t,a,i,r,o,l,c,d){let u=s.useRef(0),h=s.useRef(0),m=s.useRef(void 0),p=s.useRef(void 0),f=s.useRef(0),g=s.useRef(void 0),v=s.useRef(0),{setTimeout:b,clearTimeout:y}=ew(),x=s.useCallback(()=>{m.current&&(y(m.current),m.current=void 0)},[y]),w=s.useCallback(()=>{p.current&&(y(p.current),p.current=void 0)},[y]),j=eq(()=>{e!==n.SWIPE&&(u.current=0,v.current=0,x(),w())});s.useEffect(j,[e,j]);let N=eq(e=>{p.current=void 0,u.current===e&&d(u.current)}),E=eq(t=>{if(t.ctrlKey||Math.abs(t.deltaY)>Math.abs(t.deltaX))return;let s=e=>{f.current=e,y(g.current),g.current=e>0?b(()=>{f.current=0,g.current=void 0},300):void 0};if(e===n.NONE){if(Math.abs(t.deltaX)<=1.2*Math.abs(f.current))return void s(t.deltaX);if(!a(-t.deltaX))return;if(h.current+=t.deltaX,x(),Math.abs(h.current)>30)h.current=0,s(0),v.current=Date.now(),o();else{let e=h.current;m.current=b(()=>{m.current=void 0,e===h.current&&(h.current=0)},r)}}else if(e===n.SWIPE){let e=u.current-t.deltaX;if(u.current=e=Math.min(Math.abs(e),i)*Math.sign(e),l(e),w(),Math.abs(e)>.2*i){s(t.deltaX),c(e,Date.now()-v.current);return}p.current=b(()=>N(e),2*r)}else s(t.deltaX)});s.useEffect(()=>t($,E),[t,E])}(L,...ek);let eC=eq(()=>{l.focus&&en().querySelector(`.${A(u)} .${A(eF())}`)&&es()});s.useEffect(eC,[eC]);let eM=eq(()=>{var e;null==(e=c.view)||e.call(c,{index:T.currentIndex})});s.useEffect(eM,[T.globalIndex,eM]),s.useEffect(()=>W(H(x,e=>eE({direction:x,...e})),H(w,e=>eE({direction:w,...e})),H(j,e=>S(e))),[H,eE,S]);let eP=s.useMemo(()=>{let e,t;return{prev:eu,next:eh,close:em,focus:es,slideRect:Z?(t=void 0!==(e=U(r.padding)).percent?Z.width/100*e.percent:e.pixel,{width:Math.max(Z.width-2*t,0),height:Math.max(Z.height-2*t,0)}):{width:0,height:0},containerRect:Z||{width:0,height:0},subscribeSensors:F,containerRef:Y,setCarouselRef:ea,toolbarWidth:b,setToolbarWidth:_}},[eu,eh,em,es,F,Z,Y,ea,b,_,r.padding]);return s.useImperativeHandle(l.ref,()=>({prev:eu,next:eh,close:em,focus:es,getLightboxProps:el,getLightboxState:ed}),[eu,eh,em,es,el,ed]),s.createElement("div",{ref:ee,className:B(A(eF()),A(v)),style:{...L===n.SWIPE?{[R("swipe_offset")]:`${Math.round(D.current)}px`}:null,...L===n.PULL?{[R("pull_offset")]:`${Math.round(O.current)}px`,[R("pull_opacity")]:`${z.current}`}:null,..."none"!==l.touchAction?{[R("controller_touch_action")]:l.touchAction}:null,...d.container},tabIndex:-1,...G},Z&&s.createElement(eH.Provider,{value:eP},e,null==(a=h.controls)?void 0:a.call(h)))});function eX({slide:e,offset:t}){var a,n,i,r,o;let l,c=s.useRef(null),{currentIndex:d,slides:u}=ef(),{slideRect:h,focus:m}=eJ(),{render:p,carousel:{imageFit:f,imageProps:g},on:{click:b},styles:{slide:x},labels:w}=eh(),{getOwnerDocument:j}=eo(),N=0!==t;return s.useEffect(()=>{var e;N&&(null==(e=c.current)?void 0:e.contains(j().activeElement))&&m()},[N,m,j]),s.createElement("div",{ref:c,className:B(A(D(y,void 0)),!N&&A(D(y,"current")),A(v)),...{inert:Y?N:N?"":void 0},style:x,role:"group","aria-roledescription":z(w,"Slide"),"aria-label":(a=d+t,z(w,"{index} of {total}").replace(/\{index}/g,`${X(a,u.length)+1}`).replace(/\{total}/g,`${u.length}`))},(!(l=null==(n=p.slide)?void 0:n.call(p,{slide:e,offset:t,rect:h}))&&H(e)&&(l=s.createElement(eW,{slide:e,offset:t,render:p,rect:h,imageFit:f,imageProps:g,onClick:N?void 0:()=>null==b?void 0:b({index:d})})),l?s.createElement(s.Fragment,null,null==(i=p.slideHeader)?void 0:i.call(p,{slide:e}),(null!=(r=p.slideContainer)?r:({children:e})=>e)({slide:e,children:l}),null==(o=p.slideFooter)?void 0:o.call(p,{slide:e})):null))}function eV(){let e=eh().styles.slide;return s.createElement("div",{className:A(y),style:e})}let eK=Z(c,function({carousel:e,labels:t}){let{slides:a,currentIndex:n,globalIndex:i}=ef(),{setCarouselRef:r}=eJ(),{autoPlaying:o,focusWithin:l}=en(),d=U(e.spacing),u=U(e.padding),h=function(e,t,a=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),a))}(e,a,1),m=[];if(a.length>0)for(let t=n-h;t<=n+h;t+=1){let r=V(a,t),o=i-n+t,s=e.finite&&(t<0||t>a.length-1);m.push(s?{key:o}:{key:[`${o}`,H(r)?r.src:void 0].filter(Boolean).join("|"),offset:t-n,slide:r})}return s.createElement("div",{ref:r,className:B(A(D(c,void 0)),m.length>0&&A(D(c,"with_slides"))),style:{[`${R(D(c,"slides_count"))}`]:m.length,[`${R(D(c,"spacing_px"))}`]:d.pixel||0,[`${R(D(c,"spacing_percent"))}`]:d.percent||0,[`${R(D(c,"padding_px"))}`]:u.pixel||0,[`${R(D(c,"padding_percent"))}`]:u.percent||0},role:"region","aria-live":o&&!l?"off":"polite","aria-roledescription":z(t,"Carousel"),"aria-label":z(t,"Photo gallery")},m.map(({key:e,slide:t,offset:a})=>t?s.createElement(eX,{key:e,slide:t,offset:a}):s.createElement(eV,{key:e})))});function eY(){let{carousel:e}=eh(),{slides:t,currentIndex:a}=ef();return{prevDisabled:0===t.length||e.finite&&0===a,nextDisabled:0===t.length||e.finite&&a===t.length-1}}function eQ({label:e,icon:t,renderIcon:a,action:n,onClick:i,disabled:r,style:o}){return s.createElement(eN,{label:e,icon:t,renderIcon:a,className:A(`navigation_${n}`),disabled:r,onClick:i,style:o,...function(e,t=!1){let a=s.useRef(!1);return e$(()=>{t&&a.current&&(a.current=!1,e())},[t,e]),{onFocus:s.useCallback(()=>{a.current=!0},[]),onBlur:s.useCallback(()=>{a.current=!1},[])}}(eJ().focus,r)})}let eZ=Z("navigation",function({render:{buttonPrev:e,buttonNext:t,iconPrev:a,iconNext:n},styles:i}){let{prev:r,next:o,subscribeSensors:l}=eJ(),{prevDisabled:c,nextDisabled:d}=eY();return!function(e){var t;let a=eR(),{publish:n}=ec(),{animation:i}=eh(),{prevDisabled:r,nextDisabled:o}=eY(),l=(null!=(t=i.navigation)?t:i.swipe)/2,c=eD(()=>n(x),l),d=eD(()=>n(w),l),u=eq(e=>{switch(e.key){case"Escape":n(N);break;case"ArrowLeft":(a?o:r)||(a?d:c)();break;case"ArrowRight":(a?r:o)||(a?c:d)()}});s.useEffect(()=>e(P,u),[e,u])}(l),s.createElement(s.Fragment,null,e?e():s.createElement(eQ,{label:"Previous",action:x,icon:eI,renderIcon:a,style:i.navigationPrev,disabled:c,onClick:r}),t?t():s.createElement(eQ,{label:"Next",action:w,icon:eC,renderIcon:n,style:i.navigationNext,disabled:d,onClick:o}))}),e0=A("no_scroll"),e1=A(b);function e2(e,t,a){let n=window.getComputedStyle(e),i=a?"padding-left":"padding-right",r=a?n.paddingLeft:n.paddingRight,o=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(J(r)||0)+t}px`),()=>{o?e.style.setProperty(i,o):e.style.removeProperty(i)}}let e4=Z("no-scroll",function({noScroll:{disabled:e},children:t}){let a=eR(),{getOwnerDocument:n,getOwnerWindow:i}=eo();return s.useEffect(()=>{if(e)return()=>{};let t=[],r=i(),{body:o,documentElement:s}=n(),l=Math.round(r.innerWidth-s.clientWidth);if(l>0){t.push(e2(o,l,a));let e=o.getElementsByTagName("*");for(let n=0;n<e.length;n+=1){let i=e[n];"style"in i&&"fixed"===r.getComputedStyle(i).getPropertyValue("position")&&!i.classList.contains(e1)&&t.push(e2(i,l,a))}}return o.classList.add(e0),()=>{o.classList.remove(e0),t.forEach(e=>e())}},[a,e,n,i]),s.createElement(s.Fragment,null,t)});function e9(e,t,a){let n=e.getAttribute(t);return e.setAttribute(t,a),()=>{n?e.setAttribute(t,n):e.removeAttribute(t)}}let e3=Z(u,function({children:e,animation:t,styles:a,className:n,on:i,portal:r,close:o,labels:l}){let[c,d]=s.useState(!1),[h,m]=s.useState(!1),p=s.useRef([]),f=s.useRef(null),{setTimeout:g}=ew(),{subscribe:v}=ec(),y=e_()?0:t.fade;s.useEffect(()=>(d(!0),()=>{d(!1),m(!1)}),[]);let x=eq(()=>{p.current.forEach(e=>e()),p.current=[]}),w=eq(()=>{var e;m(!1),x(),null==(e=i.exiting)||e.call(i),g(()=>{var e;null==(e=i.exited)||e.call(i),o()},y)});s.useEffect(()=>v(N,w),[v,w]);let j=eq(e=>{var t,a,n;e.scrollTop,m(!0),null==(t=i.entering)||t.call(i);let r=null!=(n=null==(a=e.parentNode)?void 0:a.children)?n:[];for(let t=0;t<r.length;t+=1){let a=r[t];-1===["TEMPLATE","SCRIPT","STYLE"].indexOf(a.tagName)&&a!==e&&(p.current.push(e9(a,"inert","")),p.current.push(e9(a,"aria-hidden","true")))}p.current.push(()=>{var e,t;null==(t=null==(e=f.current)?void 0:e.focus)||t.call(e)}),g(()=>{var e;null==(e=i.entered)||e.call(i)},y)}),E=s.useCallback(e=>{e?j(e):x()},[j,x]);return c?(0,L.createPortal)(s.createElement(eG,{ref:E,className:B(n,A(D(u,void 0)),A(b),h&&A(D(u,"open"))),"aria-modal":!0,role:"dialog","aria-label":z(l,"Lightbox"),style:{...t.fade!==Q.animation.fade?{[R("fade_animation_duration")]:`${y}ms`}:null,...t.easing.fade!==Q.animation.easing.fade?{[R("fade_animation_timing_function")]:t.easing.fade}:null,...a.root},onFocus:e=>{f.current||(f.current=e.relatedTarget)}},e),r.root||document.body):null}),e5=Z("root",function({children:e}){return s.createElement(s.Fragment,null,e)}),e6=Z(h,function({toolbar:{buttons:e},render:{buttonClose:t,iconClose:a},styles:n}){let{close:i,setToolbarWidth:r}=eJ(),{setContainerRef:o,containerRect:l}=eS();return e$(()=>{r(null==l?void 0:l.width)},[r,null==l?void 0:l.width]),s.createElement("div",{ref:o,style:n.toolbar,className:A(D(h,void 0))},null==e?void 0:e.map(e=>e===N?t?t():s.createElement(eN,{key:N,label:"Close",icon:ek,renderIcon:a,onClick:i}):e))});function e8({carousel:e,animation:t,render:a,toolbar:n,controller:i,noScroll:r,on:o,plugins:l,slides:c,index:u,...h}){let{animation:m,carousel:p,render:f,toolbar:g,controller:v,noScroll:b,on:y,slides:x,index:w,plugins:j,...N}=Q,{config:E,augmentation:k}=function(e,t=[],a=[]){let n=e,i=e=>{let t=[...n];for(;t.length>0;){let a=t.pop();if((null==a?void 0:a.module.name)===e)return!0;(null==a?void 0:a.children)&&t.push(...a.children)}return!1},r=(e,t)=>{if(""===e){n=[ee(t,n)];return}n=et(n,e,e=>[ee(t,[e])])},o=(e,t)=>{n=et(n,e,e=>[ee(e.module,[ee(t,e.children)])])},s=(e,t,a)=>{n=et(n,e,e=>{var n;return[ee(e.module,[...a?[ee(t)]:[],...null!=(n=e.children)?n:[],...a?[]:[ee(t)]])]})},l=(e,t,a)=>{n=et(n,e,e=>[...a?[ee(t)]:[],e,...a?[]:[ee(t)]])},c=e=>{o(d,e)},u=(e,t)=>{n=et(n,e,e=>[ee(t,e.children)])},h=e=>{n=et(n,e,e=>e.children)},m=e=>{a.push(e)};return t.forEach(e=>{e({contains:i,addParent:r,append:o,addChild:s,addSibling:l,addModule:c,replace:u,remove:h,augment:m})}),{config:n,augmentation:e=>a.reduce((e,t)=>t(e),e)}}([ee(e3,[ee(e4,[ee(eU,[ee(eK),ee(e6),ee(eZ)])])])],l||j),I=k({animation:function(e,t={}){let{easing:a,...n}=e,{easing:i,...r}=t;return{easing:{...a,...i},...n,...r}}(m,t),carousel:{...p,...e},render:{...f,...a},toolbar:{...g,...n},controller:{...v,...i},noScroll:{...b,...r},on:{...y,...o},...N,...h});return I.open?s.createElement(em,{...I},s.createElement(ey,{slides:c||x,index:J(u||w)},s.createElement(ej,null,s.createElement(ed,null,s.createElement(ei,null,function e(t,a){var n;return s.createElement(t.module.component,{key:t.module.name,...a},null==(n=t.children)?void 0:n.map(t=>e(t,a)))}(ee(e5,E),I)))))):null}let e7=({src:e,alt:t,width:a=800,height:n=600,className:i="",title:o,caption:c})=>{let[d,u]=(0,s.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:{display:"inline-block",width:"100%"},className:i,children:[(0,r.jsx)(l.default,{src:e,alt:t,title:o||"Click to enlarge",width:a,height:n,onClick:()=>u(!0),style:{cursor:"pointer",transition:"opacity 0.2s"},onMouseEnter:e=>{e.currentTarget.style.opacity="0.9"},onMouseLeave:e=>{e.currentTarget.style.opacity="1"}}),c&&(0,r.jsx)("div",{style:{fontSize:"0.875rem",fontStyle:"italic",marginTop:"0.5rem",textAlign:"center",lineHeight:"1.4"},className:"image-caption",children:c})]}),(0,r.jsx)(e8,{open:d,close:()=>u(!1),slides:[{src:e,alt:t}],controller:{closeOnBackdropClick:!0},on:{click:()=>u(!1)}})]})};var te=e.i(3303);e.s(["default",0,()=>{let e=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let t=!1,a=()=>{if(!t&&window.MathJax&&e.current){let n=window.MathJax;"function"==typeof n.typesetPromise?n.typesetPromise([e.current]).then(()=>{t=!0}).catch(e=>{console.error("MathJax typeset error:",e)}):"function"==typeof n.typeset?(n.typeset([e.current]),t=!0):setTimeout(()=>a(),200)}},n=()=>{if(t)return!0;if(window.MathJax&&e.current){let e=window.MathJax;if(e.startup||"function"==typeof e.typesetPromise||"function"==typeof e.typeset)return setTimeout(()=>{a()},100),!0}return!1};if(n())return;let i=setInterval(()=>{n()&&clearInterval(i)},100),r=setTimeout(()=>{n(),clearInterval(i)},3e3);return()=>{clearInterval(i),clearTimeout(r)}},[]),(0,r.jsxs)("main",{className:"page-with-contents",children:[(0,r.jsx)(te.default,{id:"MathJax-config",strategy:"beforeInteractive",dangerouslySetInnerHTML:{__html:`
            window.MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\\\(', '\\\\)']],
                displayMath: [['$$', '$$'], ['\\\\[', '\\\\]']],
                processEscapes: true,
                processEnvironments: true,
                tags: 'ams'
              },
              svg: {
                fontCache: 'global'
              }
            };
          `}}),(0,r.jsx)(te.default,{src:"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js",strategy:"lazyOnload",onLoad:()=>{if(e.current&&window.MathJax){let t=window.MathJax;t.startup&&t.startup.promise?t.startup.promise.then(()=>{"function"==typeof t.typesetPromise?t.typesetPromise([e.current]).catch(e=>{console.error("MathJax typeset error:",e)}):"function"==typeof t.typeset&&t.typeset([e.current])}):setTimeout(()=>{"function"==typeof t.typesetPromise?t.typesetPromise([e.current]).catch(e=>{console.error("MathJax typeset error:",e)}):"function"==typeof t.typeset&&t.typeset([e.current])},500)}}}),(0,r.jsx)(o.default,{articles:[{id:"jgi-genome-portal",title:"JGI Genome Portal"},{id:"elviz-metagenome-visualization",title:"Elviz: Metagenome Visualization"},{id:"biopig-hadoop-based-genomic-analysis-toolkit",title:"BioPig: Hadoop-based Genomic Analysis Toolkit"},{id:"commerceroute-data-integration-and-workflow-solutions",title:"CommerceRoute Data Integration and Workflow"},{id:"multi-dimensional-clustering",title:"Multi-dimensional Clustering Algorithm"},{id:"compressed-bitmap-index",title:"Compressed Bitmap Index"},{id:"query-estimator-for-petabyte-storage-systems",title:"Query Estimator for Petabyte Storage Systems"},{id:"cosmic-microwave-background-cmb-spectrum-analysis",title:"Cosmic Microwave Background (CMB) Spectrum Analysis"},{id:"isotope-explorer",title:"Isotope Explorer"},{id:"batmud",title:"BatMUD"},{id:"copy-that",title:"Firefox extension: Copy That"},{id:"photostats",title:"Photo Stats: A Python EXIF scanner"}]}),(0,r.jsxs)("section",{className:"card-grid",children:[(0,r.jsxs)("div",{className:"card",id:"jgi-genome-portal",children:[(0,r.jsx)("div",{className:"card-title",children:"JGI Genome Portal"}),(0,r.jsx)("div",{className:"card-title-subtitle",children:"2008 - 2014 • JavaScript, AngularJS, Perl"}),(0,r.jsxs)("div",{className:"card-text",children:["The Department of Energy (DOE) Joint Genome Institute (JGI) is a national user facility with massive-scale DNA sequencing and analysis capabilities dedicated to advancing genomics for bioenergy and environmental applications. Beyond generating tens of trillions of DNA bases annually, the Institute develops and maintains data management systems and specialized analytical capabilities to manage and interpret complex genomic data sets, and to enable an expanding community of users around the world to analyze these data in different contexts over the web.",(0,r.jsx)(e7,{src:"/img/genome-portal-tree-of-life.jpg",alt:"Genome Portal Landing Page",width:800,height:600,className:"pt-4 pb-4",caption:"Tree of Life showing sequenced organisms and samples"}),"The JGI Genome Portal (",(0,r.jsx)("a",{href:"https://genome.jgi.doe.gov",children:"genome.jgi.doe.gov"}),") provides a unified access point to all JGI genomic databases and analytical tools. A user can find all DOE JGI sequencing projects and their status, search for and download assemblies and annotations of sequenced genomes, and interactively explore those genomes and compare them with other sequenced microbes, fungi, plants or metagenomes using specialized systems tailored to each particular class of organisms. As Team Lead, I was responsible for this portal, which provides access to data at multiple stages of genome analysis and annotation pipelines.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"We published a paper on it in Nucleic Acids Research in 2012: ",(0,r.jsx)("a",{href:"https://doi.org/10.1093/nar/gkr947",children:"The Genome Portal of the Department of Energy"}),"."]}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"Technology"}),(0,r.jsxs)("div",{className:"card-text",children:["The Genome Portal is built using a combination of technologies. The genome browser (annotation and assembly viewer) is a large Perl program. When I took over, I implemented parallel rendering of the different tracks (see image below). I also added a number of long-requested features.",(0,r.jsx)(e7,{src:"/img/genome-portal-browser.png",alt:"Genome Portal browser",width:800,height:600,className:"pt-4 pb-4",caption:"Genome browser implemented in Perl"})]})]}),(0,r.jsxs)("div",{className:"card",id:"elviz-metagenome-visualization",children:[(0,r.jsx)("div",{className:"card-title",children:"Elviz: Metagenome Visualization"}),(0,r.jsx)("div",{className:"card-title-subtitle",children:"2015 • AngularJS, JavaScript, WebGL"}),(0,r.jsxs)("div",{className:"card-text",children:["Elviz (Environmental Laboratory Visualization) is an interactive web-based tool for the visual exploration of assembled metagenomes and their complex metadata.",(0,r.jsx)(e7,{src:"/img/elviz.png",alt:"Elviz: metagenome visualization",width:800,height:600,className:"pt-4 pb-4",caption:"Interactive visualization of metagenome assemblies"}),"Elviz allows scientists to navigate metagenome assemblies across multiple dimensions and scales, plotting parameters such as GC content, relative abundance, phylogenetic affiliation and assembled contig length. Furthermore, Elviz enables interactive exploration using real-time plot navigation, search, filters, axis selection, and the ability to drill from a whole-community profile down to individual gene annotations."]}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"Technology"}),(0,r.jsxs)("div",{className:"card-text",children:["Elviz is written in AngularJS, JavaScript, and WebGL. Try it out at ",(0,r.jsx)("a",{href:"https://genome.jgi.doe.gov/viz",children:"genome.jgi.doe.gov/viz"}),". We published a paper on it in BMC Bioinformatics in 2015: ",(0,r.jsx)("a",{href:"https://doi.org/10.1186/s12859-015-0566-4",children:"Elviz – exploration of metagenome assemblies with an interactive visualization tool"}),"."]})]}),(0,r.jsxs)("div",{className:"card",id:"biopig-hadoop-based-genomic-analysis-toolkit",children:[(0,r.jsx)("div",{className:"card-title",children:"BioPig: Hadoop-based Genomic Analysis Toolkit"}),(0,r.jsx)("div",{className:"card-title-subtitle",children:"2013 • Java, Python, Pig Latin, Hadoop"}),(0,r.jsxs)("div",{className:"card-text",children:["BioPig is a Hadoop-based analytic toolkit designed to scale large-scale sequence analysis to data volumes that overwhelm traditional tools. It sits on top of Hadoop MapReduce and the Pig data-flow language to provide a higher-level, more programmable framework for bioinformatics tasks, with emphasis on scalability, portability, and ease of use. We published a paper on it in Bioinformatics in 2013: ",(0,r.jsx)("a",{href:"https://doi.org/10.1093/bioinformatics/btt528",children:"BioPig: a Hadoop-based analytic toolkit for large-scale sequence data"}),"."]}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"Origin"}),(0,r.jsxs)("div",{className:"card-text",children:["In 2010, as I was working on the Genome Portal, I collaborated with Dr. Zhong Wang's Genome Analysis research group at the Joint Genome Institute (JGI) to develop BioPig. Researchers at the JGI assemble genomes from raw sequence data using supercomputers at NERSC. BioPig was envisioned as a way to scale beyond the current methods. It was written by me and Karan Bhatia, using Java and Pig Latin. The source code is ",(0,r.jsx)("a",{href:"https://github.com/JGI-Bioinformatics/biopig",children:"available on GitHub"}),"."]}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"Performance and Scalability"}),(0,r.jsxs)("div",{className:"card-text",children:["Empirical results compare BioPig against serial and MPI implementations, using datasets from 100 Mb (Mega basepairs) up to 500 Gb. BioPig demonstrates near-linear scaling with data size on Hadoop clusters (e.g., Magellan/NERSC and AWS EC2), whereas traditional serial/MPI approaches hit memory limits or scale poorly in practice due to high-latency or bespoke parallelization requirements. While there is a certain amount of overhead thanks to Hadoop’s startup, for very large datasets the data-analysis time dominates startup costs.",(0,r.jsx)(e7,{src:"/img/biopig-graphs.png",alt:"BioPig performance and scalability",width:800,height:600,className:"pt-4",caption:"Performance comparison showing near-linear scaling with data size"})]}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"Example"}),(0,r.jsxs)("div",{className:"card-text",children:["Below is a simple example of a Pig script to count kmers. For more advanced examples, see the ",(0,r.jsx)("a",{href:"https://github.com/JGI-Bioinformatics/biopig/tree/master/examples",children:"examples"})," directory on GitHub, or the paper.",(0,r.jsxs)("pre",{children:["-- a simple example of pig script to count kmers",(0,r.jsx)("br",{}),"1 register /.../biopig-core-0.3.0-job-pig.jar",(0,r.jsx)("br",{}),"2 A = load '$input' using gov.jgi.meta.pig.storage.FastaStorage as (id: chararray, d: int, seq: bytearray, header: chararray);",(0,r.jsx)("br",{}),"3 B = foreach A generate flatten(gov.jgi.meta.pig.eval.KmerGenerator(seq, 20)) as (kmer:bytearray);",(0,r.jsx)("br",{}),"4 C = group B by kmer parallel $p;",(0,r.jsx)("br",{}),"5 D = foreach C generate group, count(B);",(0,r.jsx)("br",{}),"6 E = group D by $1 parallel $p;",(0,r.jsx)("br",{}),"7 F = foreach E generate group, count(D);",(0,r.jsx)("br",{}),"8 store F into '$output';",(0,r.jsx)("br",{})]})]})]}),(0,r.jsxs)("div",{className:"card",id:"commerceroute-data-integration-and-workflow-solutions",children:[(0,r.jsx)("div",{className:"card-title",children:"CommerceRoute Data Integration and Workflow Solutions"}),(0,r.jsx)("div",{className:"card-title-subtitle",children:"1997 - 2003 • C++, Microsoft MFC, Java"}),(0,r.jsx)("div",{className:"card-text",children:"In 1997 I was the engineering founder of what became CommerceRoute. The first product was a workflow/Business Process Modeling (BPM) offering. It featured a client tool for defining the flow, a rules database, and a rules engine. You would define a workflow process, with tasks linked together by routes. It didn't have any restrictions on how complicated the flow could be, allowing recursive flows and multiple instances of the same task. Right away people wanted to pull in data from external sources, and use them in the logic. We started adding connections to databases, LDAP, SAP, FTP, local files, and formats like XML, EDI, flat files, etc. With time people started to use the flows for data movement instead of just process automation. That's how the next product was born."}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"Data Integration"}),(0,r.jsx)("div",{className:"card-text",children:"Building upon the powerful engine, we developed the CommerceRoute data integration solution, which handles transformations and transfers between sources and targets, and implemented the RosettaNet B2B framework. The complete solution was later sold as the Syncx integration appliance, reducing support costs."}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"CommerceRoute SaaS"}),(0,r.jsxs)("div",{className:"card-text",children:["The launch of CommerceRoute Syncx was accompanied by a new SaaS offering: commerceroute.net All Syncx appliances talked to commerceroute.net and reported health and usage data. As needed, updates were pushed to the appliances. This included both OS level security updates and new features.",(0,r.jsx)(e7,{src:"/img/commerceroute-web-data-interchange-login.png",alt:"CommerceRoute Web Data Interchange Login",width:800,height:600,className:"pt-4",caption:"CommerceRoute SaaS web interface"})]}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"Acquisition"}),(0,r.jsx)("div",{className:"card-text",children:"In 2003 a new company was formed to acquire the product. The new company was called Jitterbit, and it acquired the technology from CommerceRoute. A few of the founders of CommerceRoute stayed on to start Jitterbit. Jitterbit is now a cloud-based data integration company recognized as a leader and visionary in the iPaaS field."}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"Technology and Architecture"}),(0,r.jsxs)("div",{className:"card-text",children:["The engine was written in C++ using boost libraries. The workflow client was written in C++ using Microsoft's MFC library. For a while Jitterbit open sourced the product, and it is ",(0,r.jsx)("a",{href:"https://sourceforge.net/p/jitterbit/code/HEAD/tree/",children:"available"})," on SourceForge. After a while Jitterbit completely stopped using the workflow product and focused on the data integration product. But it wasn't until 2009 that they pushed an update to remove the workflow logic from the code. So you can still find my original code in the repository by ",(0,r.jsx)("a",{href:"https://sourceforge.net/p/jitterbit/code/30994/tree/trunk/",children:"going back through the history"}),". For example the ",(0,r.jsx)("a",{href:"https://sourceforge.net/p/jitterbit/code/39302/tree/trunk/integration/cpp/konga/ProcessEngine/Engine/RoutingEngineCore.cpp",children:"RoutingEngineCore.cpp"})," file handles the routing logic for the workflow."]}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"Scaling"}),(0,r.jsx)("div",{className:"card-text",children:"The workflow engine is multi-threaded and will detect the number of cores available and use them. It is also able to scale as a cluster of machines. In this mode, synchronization is handled via the database. The standard Syncx appliance configuration started with 2 multi-core machines and one database server. From there, customers would add capacity as needed by adding more machines. This was designed to be a simple process and was done via the web interface. For enterprises, they would add a second database server, which would run in a two-phase commit mode to ensure data consistency. In that mode, each query is executed in a way that the transaction succeeds only after both database servers have confirmed a successful commit. During one demo we did to a large enterprise customer, we used a workflow with complex logic with loops and data dependencies between tasks. In the middle of the demo, we pulled the power to the machine and waited for it to restart. When it came back online, the process continued and completed successfully. This was possible because the source of truth for the workflow logic and state was always the database."})]}),(0,r.jsxs)("div",{className:"card",id:"multi-dimensional-clustering",children:[(0,r.jsx)("div",{className:"card-title",children:"Multi-dimensional Clustering Algorithm"}),(0,r.jsx)("div",{className:"card-title-subtitle",children:"1997 - 1999 • C++, Java"}),(0,r.jsx)("div",{className:"card-text",children:'When I joined the Scientific Data Management R&D group at Lawrence Berkeley Laboratory in 1997, the first project I worked on was a multi-dimensional clustering algorithm. As the high energy physics community was preparing for the Large Hadron Collider, they looked to our group to help manage the data. My task was to come up with an algorithm to find clusters of collision events. An "event" is when two particles collide in a collider. The data describes how many of each type of elementary particle were produced in the collision, along with data for each particle, such as momentum and energy.'}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"The Curse of Dimensionality"}),(0,r.jsx)("div",{className:"card-text",children:"We were dealing with 100 - 150 columns or dimensions of data. Classical clustering algorithms like k-means or hierarchical clustering break down when you have that many dimensions. This is known as the curse of dimensionality. The events tend to cluster into groups of events that are similar. My task was to find them."}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"Algorithm"}),(0,r.jsxs)("div",{className:"card-text",children:["I relied on the fact that the data is very sparse in higher dimensions. Since the number of events was large but known, I decided to use a hash table to store information about only the non-empty cells. The algorithm was:",(0,r.jsxs)("ul",{className:"list",children:[(0,r.jsx)("li",{children:"Read the data (one pass) and populate the cells"}),(0,r.jsx)("li",{children:"Sort the cells by the number of events"}),(0,r.jsx)("li",{children:"Grow a cluster around the largest cell. Find all neighbors of Manhattan distance 1. Stop growing when events in a cell are below a threshold, or when the gradient increases."}),(0,r.jsxs)("li",{children:["Then grow the cluster around the ",(0,r.jsx)("i",{children:"next available"})," largest cell. "]}),(0,r.jsx)("li",{children:"Repeat until all cells are in a cluster"})]})]}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"Technology"}),(0,r.jsxs)("div",{className:"card-text",children:["The algorithm was implemented in C++ on Solaris. I used a hash table to store the data. In addition to the algorithm, we also developed a Java Applet that could be used to explore the clusters.",(0,r.jsx)(e7,{src:"/img/cluster-explorer-applet.png",alt:"Multi-dimensional Clustering",width:800,height:600,className:"pt-4 pb-4",caption:"Java applet for exploring multi-dimensional clusters"}),"Selecting the bins was a task of its own. The Java Applet allowed you to explore what bins yielded the best clusters."]})]}),(0,r.jsxs)("div",{className:"card",id:"compressed-bitmap-index",children:[(0,r.jsx)("div",{className:"card-title",children:"Compressed Bitmap Index"}),(0,r.jsx)("div",{className:"card-title-subtitle",children:"1997 - 1999 • C++"}),(0,r.jsx)("div",{className:"card-text",children:"To be able to serve high energy physics data from tape systems, we needed to be able to quickly estimate the size of a result set for a particular query before the data retrieval request was executed. This would allow the scientists to refine their queries before retrieving the data. To this end, I researched and implemented a specialized compressed bitmap (a.k.a. bit-sliced) index that is highly effective for range queries. The queries were logical joins of ranges on several columns. A key feature of this work is the ability to perform query execution directly without needing to decompress the index first. One idea was to run clustering on the data, and re-order the events based on clusters. In 1995 Gennady Antoshenkov developed the Byte-aligned Bitmap Code (BBC), a well-known scheme for bitmap compression. Our work is similar, but we added several novel features to make them more efficient for our use case."}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"Algorithm"}),(0,r.jsxs)("div",{className:"card-text",children:['We assume that the objects are stored in a certain order in the index, and this order does not change. Thus, we first generate vertical partitions for each of the 100 properties. If all the properties are short integers, the size of all the partitions is 20 GBs (100 × 2 × 10⁸ bytes). The size doubles if all were real numbers. The vertical partitions are stored on disk. Now the bit-sliced index is designed to be a concise representation of these partitions, so that it is much smaller and can be stored in memory. Since the properties we deal with are numeric, we can partition each dimension into bins. For example, we can partition the "energy" dimension into 1–2 GeV, 2–3 GeV, and so on. We then assign to each bin a bit vector, where a "0" means that the value for that object does not fall in that bin, and "1" means it does.',(0,r.jsx)(e7,{src:"/img/bit-slices.png",alt:"Partitions",width:800,height:600,className:"pt-4 pb-4",caption:"Example of bit-sliced index partitions"}),'The figure shows an example where Property 1 was partitioned into 7 bins, Property 2 into 5 bins, etc. Note that only a single "1" can exist for each row of each property, since the value only falls into a single bin.',(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"We now compress the vertical bit-vectors using a modified version of run-length encoding. The advantage of this scheme is that boolean operations can be performed directly on the compressed vectors without decompression. This scheme is particularly effective for highly skewed data such as High Energy Physics data. Our version of run-length encoding does not encode short sequences into counts. Instead, it represents them as-is. A single bit in each word indicates whether it is a count or a pattern. Results show a compression factor of 10-100. The choice of bins and bin boundaries has a significant impact on compression. Assume 100 properties, each with 10 bins. This requires 10¹¹ bits before compression. With a compression factor of 100, the space required is 10⁹ bits, or about 125 MBs. This can be stored permanently in memory. Note that it is not necessary to keep all bit slices in memory. Only the most relevant slices for a query need to be retained."]}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"Logical Operations on Bit-Slices"}),(0,r.jsxs)("div",{className:"card-text",children:['The compression scheme described above permits logical operations on the compressed bit-slices (bitmap columns). This is an important feature of the compression algorithm used, since it makes it possible to do the operations in memory. These operations take as input two compressed slices and produce one compressed slice (the input for "negation" is only one bit-slice). All logical operations are implemented the same way:',(0,r.jsxs)("ul",{className:"list",children:[(0,r.jsx)("li",{children:'The state ["0" or "1"] at the current position and the number of bits of the current run (number of consecutive bits of that same state), \'num\', from each bit-slice, are extracted (decoded).'}),(0,r.jsx)("li",{children:"The result is created (encoded) by performing the required logical operation (AND, OR, XOR) on the state bits from each bit-slice and subtracting the smaller 'num' from the larger and appending the result to the resulting bit-slice. The resulting bit-slice is encoded as we go along, using the most efficient method for the size of its run lengths."})]}),"An example: pseudo code for logical or:",(0,r.jsx)("pre",{children:`function bmp_or( bitslice left,
                 bitslice right )
{
  while( there_are_more_bits(left) 
    and there_are_more_bits(right) )
  {
    lbit = decode( left, lnum );
    rbit = decode( right, rnum );
    result_bit = lbit | rbit;
    result_num = min( lnum, rnum );

    lnum = lnum - result_num;
    rnum = rnum - result_num;
    encode( result, 
            result_bit,
            result_num );
  }
  return result;
}`})]})]}),(0,r.jsxs)("div",{className:"card",id:"cosmic-microwave-background-cmb-spectrum-analysis",children:[(0,r.jsx)("div",{className:"card-title",children:"Cosmic Microwave Background (CMB) Spectrum Analysis"}),(0,r.jsx)("div",{className:"card-title-subtitle",children:"1996 - 1998 • Fortran"}),(0,r.jsx)("div",{className:"card-text",children:"This research involved a detailed analysis of observations related to the Cosmic Microwave Background (CMB) radiation intensity, a relic of the Big Bang. In 1995 and 1996 I worked on the Isotope Explorer (see below) while also completing MSc in Physics, taking classes at UC Berkeley. When it came time to write my thesis, Dr. Richard Firestone of the Isotopes Project at LBL put me in touch with Dr. George Smoot, who had recently gathered data from his DMR experiment onboard the COBE satellite."}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"Nobel Prize"}),(0,r.jsxs)("div",{className:"card-text",children:["The DMR data showed that the CMB was not uniform, but had a large difference in one direction, and small variations all around. This dipole pattern showed the motion of our solar system, and our local group of galaxies relative to the CMB. George received the Nobel Prize in Physics in 2006 for this work.",(0,r.jsx)(e7,{src:"/img/george-smoot.jpg",alt:"Dr. George Smoot and Dr. Steven Chu",width:800,height:600,className:"pt-4 pb-4",caption:"Dr. Chu and Dr. Smoot on the day of the Nobel Prize announcement. Photo: Henrik Nordberg"}),"The image shows Dr. George Smoot and Dr. Steven Chu, who was the lab director at the time and also the Secretary of Energy, on the day of the announcement of the Nobel Prize in Physics in October 2006. Dr. Chu received the Nobel Prize in Physics in 1997. As a side note, Berkeley Lab is an amazing place. George would tell me stories about his advisor, Luis Alvarez, who also was a Nobel Laureate in Physics (1968). So you know, I still have a few years... :) I would attend the INPA (Institute for Nuclear and Particle Astrophysics) seminars on a regular basis. Whenever a new important paper in physics was published, the authors would come and give a talk. The lab has had 17 Nobel Prize winners affiliated with it."]}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"Data Analysis"}),(0,r.jsxs)("div",{className:"card-text",children:["In addition to the COBE data, George and I collected all known published data on the CMB spectrum. I then wrote Fortran code to fit the data to various models.",(0,r.jsx)(e7,{src:"/img/cmb-spectrum.png",alt:"CMB spectrum analysis",width:800,height:600,className:"pt-4 pb-4",caption:"Brightness as a function of frequency of the CMB"}),(0,r.jsx)(e7,{src:"/img/cmb-dipole.png",alt:"Thermodynamic temperature as a function of frequency of the CMB dipole",width:800,height:600,className:"pt-4",caption:"Thermodynamic temperature as a function of frequency of the CMB dipole"})]}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"Levenberg-Marquardt Method"}),(0,r.jsxs)("div",{className:"card-text",children:["I first tried gradient descent to fit the data to a model. It didn't converge in a reasonable time.",(0,r.jsx)("div",{ref:e,dangerouslySetInnerHTML:{__html:"<p>\n    The Levenberg-Marquardt method is used to iterate to the optimal $\\chi^2$.\n    It combines the Steepest Decent and Grid Search methods into an\n    algorithm with a fast convergence.\n    By Taylor expansion of $\\chi^2$ we have\n</p>\n\n$$\\begin{multline*}\\chi^2 = \\chi^2(0)+\\sum_i \\frac{\\partial \\chi^2}{\\partial x_i}x_i\\\\+\\frac{1}{2}\\sum_{i,j}\\frac{\\partial^2\\chi^2}{\\partial x_i\\partial x_j}x_ix_j+...\\end{multline*}$$\n\n<p>which we can write as</p>\n\n$$\\chi^2\\approx \\gamma - \\vec{d}\\cdot\\vec{a}+{1\\over 2}\\vec{a}^T\\cdot{\\bf D}\\cdot\\vec{a} \\tag{1}\\label{eq:parabola}$$\n\n<p>where $\\vec{d}$ is a vector and ${\\bf D}$ is a square matrix.\nThis leads to</p>\n\n$$a_{\\rm min}\\approx a_{\\rm cur}+{\\bf D}^{-1}\\cdot\\left[-\\nabla \\chi^2(a_{\\rm cur})\\right] \\tag{2}\\label{eq:just_above}$$\n\n<p>We measure $x_i$ and $s_i$. Our fitting function is $t(\\vec{a})$.</p>\n\n$$\\chi ^2 = \\sum_{q,r}{\\left\\{ (s-t(\\vec{a}))_q\n            {\\bf M}_{qr}^{-1} (s-t(\\vec{a}))_r \\right\\}}$$\n\n$${\\partial \\chi ^2 \\over \\partial a_i} = -2\\sum_{q,r}{\\left\\{\n            \\left({\\partial t(\\vec{a}) \\over \\partial a_i}\\right)_q\n            {\\bf M}_{qr}^{-1} (s-t(\\vec{a}))_r \\right\\}}$$\n\n<div style=\"margin-left: -2em; font-size: 90%;\">$$\\begin{multline*}{\\partial ^2 \\chi ^2 \\over \\partial a_i \\partial a_j} = 2\\sum_{q,r}\\left[\n            \\left\\{\\left({\\partial t(\\vec{a}) \\over \\partial a_i}\\right)_q\n            {\\bf M}_{qr}^{-1} \\left({\\partial t(\\vec{a}) \\over \\partial a_j}\\right)_r \\right\\}-\n            \\right.\\\\ \\left.\n            \\left\\{\\left({\\partial^2 t(\\vec{a}) \\over \\partial a_i\\partial a_j}\\right)_q\n            {\\bf M}_{qr}^{-1} (s-t(\\vec{a}))_r \\right\\}\n            \\right]\\end{multline*}$$</div>\n\n<p>Define</p>\n\n$$\\beta_i\\equiv -{1\\over 2}{\\partial \\chi^2 \\over \\partial a_i}$$\n\n<p>and</p>\n\n$$\\alpha_{ij}\\equiv {1\\over 2}{\\partial^2\\chi^2 \\over \\partial a_i\\partial a_j}$$\n\n<p>We approximate $\\alpha$ with [Press, W.H., et al. Numerical Recipes]</p>\n\n$$\\alpha_{ij}\\approx\\sum_{q,r}\\left\\{\n            \\left({\\partial t(\\vec{a}) \\over \\partial a_i}\\right)_q\n            {\\bf M}_{qr}^{-1} \\left({\\partial t(\\vec{a}) \\over \\partial a_j}\\right)_r\n    \\right\\}$$\n\n<p>\n    Following equation (\\ref{eq:parabola}) we have ${\\bf\\alpha}={1\\over 2}\n    {\\bf D}$ and we can re-write eq.~(\\ref{eq:just_above}) as\n</p>\n\n$$\\sum_i \\alpha_{ij}\\delta a_i=\\beta_j$$\n\n<p>Let</p>\n\n$$\\delta a_i={1\\over \\lambda \\alpha_{ii}}\\beta_i,$$\n\n<p>where $\\lambda$ is a small positive constant and</p>\n\n$$\\begin{aligned}\n    \\alpha_{ii}' &\\equiv \\alpha_{ii}(1+\\lambda)  \\\\\n    \\alpha_{ij}' &\\equiv \\alpha_{ij}\\;\\;\\;\\;\\;(i\\neq j)\n\\end{aligned}$$\n\n$$\\sum_i \\alpha_{ij}'\\delta a_i=\\beta_j \\tag{3}\\label{eq:numrec14.4.14}$$\n\n<p>The idea of the Levenberg-Marquardt method is summarized in the following procedure</p>\n\n<blockquote>\n    <ol>\n        <li>Compute $\\chi^2(\\vec{a})$.</li>\n        <li>$\\lambda \\leftarrow 0.001$.</li>\n        <li>Solve the linear equations (\\ref{eq:numrec14.4.14}) for $\\delta\\vec{a}$\n        and evaluate $\\chi^2(\\vec{a}+\\delta\\vec{a})$.</li>\n        <li>If $\\chi^2(\\vec{a}+\\delta\\vec{a})$ is smaller than a certain threshold,\n        then stop.</li>\n        <li>If $\\chi^2(\\vec{a}+\\delta\\vec{a})\\geq\\chi^2(\\vec{a})$, <i>increase</i>\n        $\\lambda$ by a factor 10. Go to Step 3.</li>\n        <li>If $\\chi^2(\\vec{a}+\\delta\\vec{a})<\\chi^2(\\vec{a})$, <i>decrease</i>\n        $\\lambda$ by a factor 10. Go to Step 3.</li>\n    </ol>\n</blockquote>\n\n<p>We also need to calculate the standard deviations, $\\delta a_i$,</p>\n\n$${\\bf C}={\\bf{\\alpha}}^{-1}$$\n\n<p>and thus,</p>\n\n$$\\delta a_i = \\sqrt{\\Delta \\chi _\\nu ^2}\\sqrt{C_{ii}},$$\n\n<p>\n    where $\\Delta \\chi _\\nu ^2$ is a change in $\\chi ^2$ per degree of\n    freedom corresponding to a change in one of the parameters $a_i$.\n</p>\n\n<p>\n    The Levenberg-Marquardt method was applied to the CMB datasets with great success.\n    The method has several times more rapid convergence than the Steepest Descent\n    and Grid Search methods. The latter two were tried first, but neither had reasonable\n    convergence times, as they were implemented.\n</p>"}})]}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"Summary"}),(0,r.jsxs)("div",{className:"card-text",children:["This work shows strong evidence for the hot Big Bang model. The monopole CMB spectrum is very close to a blackbody spectrum. There is a lot more math and physics than I can fit here. I wrote my ",(0,r.jsx)("a",{href:"/henrik-thesis-final.pdf",children:"Master's thesis"})," on this, and Dr. Smoot and I wrote a paper with a ",(0,r.jsx)("a",{href:"https://arxiv.org/pdf/astro-ph/9805123",children:"more extensive analysis of the data"}),". Probably the most fun result is how we put an upper bound on the tachyon coupling constant, and an upper bound on the mass of a second species of photon.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"Sadly George passed away in 2025."]})]}),(0,r.jsxs)("div",{className:"card",id:"query-estimator-for-petabyte-storage-systems",children:[(0,r.jsx)("div",{className:"card-title",children:"Query Estimator for Petabyte Storage Systems"}),(0,r.jsx)("div",{className:"card-title-subtitle",children:"1998 - 1999 • C++"}),(0,r.jsxs)("div",{className:"card-text",children:['Retrieving large subsets of data from tape-based datasets is very expensive both in terms of computer and system resources, as well as the total elapsed time for a query to be completed.  Therefore, it is quite useful to provide an estimate of the amount of data and the number of files that need to be retrieved for a potential query. Often, users start a query, get frustrated with the length of time to perform the analysis, and abort the query. An important optimization strategy is to prevent such non-productive activities by providing a quick estimate of the size of the returned data, and a time estimate of how long it will take to retrieve the data. I designed and developed such a "query estimator" by taking advantage of the compressed bitmap index used to evaluate a query.',(0,r.jsx)(e7,{src:"/img/qe-using-index.png",alt:"Query Estimator",width:800,height:600,className:"pt-4 pb-4",caption:"Query Estimator"})]}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"Technology"}),(0,r.jsxs)("div",{className:"card-text",children:[(0,r.jsx)(e7,{src:"/img/storage-manager.png",alt:"Storage Manager",width:800,height:600,className:"pt-4 pb-4",caption:"Storage Manager"}),"The query estimator was written in C++ and boost libraries, running on Solaris and Linux. It talked to other components in the distributed system via CORBA."]})]}),(0,r.jsxs)("div",{className:"card",id:"isotope-explorer",children:[(0,r.jsx)("div",{className:"card-title",children:"Isotope Explorer"}),(0,r.jsx)("div",{className:"card-title-subtitle",children:"1995 • C++, Borland OWL, Microsoft MFC"}),(0,r.jsxs)("div",{className:"card-text",children:["In 1995 I moved to Berkeley to work on a visualization tool for nuclei of isotopes at Lawrence Berkeley Laboratory. Originally called VuENSDF, it is a tool for exploring the nuclear data from the ENSDF database. Up till then, when you needed to access nuclear energy level data, you used the Table of Isotopes (ToI), which was a thick book. ToI was published by the Isotopes Project, a research group at the Nuclear Science Division of LBL. That group was headed by Nobel Laureate Glenn T. Seaborg, who still checked in on us from time to time. Dr. Seaborg was famous for the discovery of the elements plutonium, americium, curium, berkelium, californium, einsteinium, fermium, mendelevium, nobelium, and seaborgium.",(0,r.jsx)(e7,{src:"/img/isotope-explorer.png",alt:"Isotope Explorer",width:800,height:600,className:"pt-4",caption:"Isotope Explorer visualization tool"})]}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"Technology"}),(0,r.jsx)("div",{className:"card-text",children:"The tool was written in C++ and Borland's OWL library for Windows. One weekend I was reading the C code for the Unix Telnet server and decided to see if I could talk to it from Isotope Explorer. This led to us adding access to a large document set of references to the nuclear data. This was a web service before the term was invented."}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"Features"}),(0,r.jsx)("div",{className:"card-text",children:"Isotope Explorer can display level drawings, coincidences, tables, band plots, nuclear charts, chart data and literature references."})]}),(0,r.jsxs)("div",{className:"card",id:"batmud",children:[(0,r.jsx)("div",{className:"card-title",children:"BatMUD"}),(0,r.jsx)("div",{className:"card-title-subtitle",children:"1991 • LPC"}),(0,r.jsx)("div",{className:"card-text",children:"A MUD (Multi-User Dungeon) is an online role-playing game. In 1991 I was at the university and joined BatMUD as a player. Back then you accessed the game via a telnet client. I wizzed (reached level 20 and beat Tiamat) and started extending the game as all wizards do. This is how I discovered my love of programming. I started working on the backend, adding a 'feelings' system and the first global event (orch raids), among other things. The coding for LPC MUDs is in LPC, an object-oriented version of C. My player character is the Archwizard Plura."})]}),(0,r.jsxs)("div",{className:"card",id:"copy-that",children:[(0,r.jsx)("div",{className:"card-title",children:"Firefox extension: Copy That"}),(0,r.jsxs)("div",{className:"card-title-subtitle",children:["2025 • JavaScript • ",(0,r.jsx)("a",{href:"https://github.com/hnordberg/copy-that",children:"GitHub Repository"})]}),(0,r.jsxs)("div",{className:"card-text",children:["Copy-That is a Firefox extension that allows you to copy text or HTML from an element on the page to the clipboard.",(0,r.jsxs)("ul",{className:"list",children:[(0,r.jsx)("li",{children:"Element Selection: Click the extension icon to activate, then hover over any element to see it highlighted"}),(0,r.jsx)("li",{children:"Plain Text Copy: Click an element to copy its innerText (plain text content)"}),(0,r.jsx)(e7,{src:"/img/copy-that.png",alt:"Copy That",width:800,height:600,className:"pt-4 pb-4",caption:"Blue outline shows what element is being selected"}),(0,r.jsx)("li",{children:"HTML Copy Mode: Hold Shift while clicking to copy the element's innerHTML as rich HTML (with plain text fallback)"}),(0,r.jsxs)("li",{children:["Visual Feedback:",(0,r.jsxs)("ul",{className:"list",children:[(0,r.jsx)("li",{children:"Red outline for normal mode"}),(0,r.jsx)("li",{children:"Blue outline for HTML mode (Shift held)"}),(0,r.jsx)("li",{children:"Green outline after successful copy"})]})]}),(0,r.jsx)("li",{children:"Keyboard Support: Press Escape to cancel selection mode"})]})]})]}),(0,r.jsxs)("div",{className:"card",id:"photostats",children:[(0,r.jsx)("div",{className:"card-title",children:"Photo Stats: A Python EXIF scanner"}),(0,r.jsxs)("div",{className:"card-title-subtitle",children:["2025 • Python • ",(0,r.jsx)("a",{href:"https://github.com/hnordberg/photo-stats",children:"GitHub Repository"})]}),(0,r.jsxs)("div",{className:"card-text",children:["A Python tool for scanning your photo collection and displaying statistics about your photography, such as your favorite lens, focal length, camera, and more. It uses SciPy and a KD-tree to quickly search geolocation data, and display the nearest cities for your photos. The cities data comes from ",(0,r.jsx)("a",{href:"https://github.com/dr5hn/countries-states-cities-database",children:"Countries, States, and Cities database"})," on GitHub.",(0,r.jsx)(e7,{src:"/img/photostats-screenshot.png",alt:"Photo Stats",width:800,height:600,className:"pt-4 pb-4",caption:"Photo Stats"})]})]}),(0,r.jsxs)("div",{className:"card hidden",children:[(0,r.jsx)("div",{className:"card-title",children:"."}),(0,r.jsx)("div",{className:"card-text",children:"."}),(0,r.jsx)("div",{className:"card-subtitle pt-4",children:"."}),(0,r.jsx)("div",{className:"card-text",children:"."})]})]})]})}],63936)}]);